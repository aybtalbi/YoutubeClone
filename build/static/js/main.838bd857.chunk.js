(this["webpackJsonpreact-course"]=this["webpackJsonpreact-course"]||[]).push([[0],{11:function(e,t,c){e.exports={item:"videoItem_item__2peJw",image:"videoItem_image__DzJ6o",content:"videoItem_content__2MZ3s",actions:"videoItem_actions__5FjPC",details:"videoItem_details__35-Fn"}},14:function(e,t,c){e.exports={header:"MainNavigation_header__3rpFK",rech:"MainNavigation_rech__3xic5",logo:"MainNavigation_logo__-XMJ_",active:"MainNavigation_active__1_CPI",badge:"MainNavigation_badge__2gjmM"}},21:function(e,t,c){e.exports={menu:"MenuDeFilter_menu__2Mrp4",titre:"MenuDeFilter_titre__3Tg1R"}},22:function(e,t,c){e.exports={player:"Video_player__24J6B"}},33:function(e,t,c){e.exports={card:"Card_card__2moVT"}},36:function(e,t,c){e.exports={list:"videoList_list__2f2VG"}},37:function(e,t,c){e.exports={spinn:"Spinner_spinn__2WJcp"}},38:function(e,t,c){e.exports={spinn2:"Spinner2_spinn2__3eBeq"}},39:function(e,t,c){e.exports={main:"Layout_main__DvJ9M"}},46:function(e,t,c){},74:function(e,t,c){"use strict";c.r(t);var i=c(1),n=c.n(i),r=c(31),s=c.n(r),a=c(9),o=(c(46),c(2)),j=c(40),d=c(41),l=c(8),b=c(32),u=c.n(b);var v=c(33),h=c.n(v),O=c(0);var x=function(e){return Object(O.jsx)("div",{className:h.a.card,children:e.children})},p=c(11),m=c.n(p),f=Object(i.createContext)({favorites:[],totalFavorites:0,addFavorite:function(e){},removeFavorite:function(e){},itemIsFavorite:function(e){},setvideoDirect:function(e){},setrechercheState:function(e){},videoDirect:{},recherche:"",ordreRecherche:""});function _(e){var t=Object(i.useState)([]),c=Object(l.a)(t,2),n=c[0],r=c[1],s=Object(i.useState)({}),a=Object(l.a)(s,2),o=a[0],j=a[1],d=Object(i.useState)("paris"),b=Object(l.a)(d,2),u=b[0],v=b[1],h=Object(i.useState)("date"),x=Object(l.a)(h,2),p=x[0],m=x[1];var _={favorites:n,totalFavorites:n.length,addFavorite:function(e){r((function(t){return t.concat(e)}))},removeFavorite:function(e){r((function(t){return t.filter((function(t){return t.id.videoId!==e}))}))},itemIsFavorite:function(e){return n.some((function(t){return t.id.videoId===e}))},videoDirect:o,setvideoDirect:j,recherche:u,setrechercheState:v,ordreRecherche:p,setOrdreRecherche:m};return Object(O.jsx)(f.Provider,{value:_,children:e.children})}var g=f;var C=function(e){var t=Object(i.useContext)(g),c=t.itemIsFavorite(e.video.id.videoId),n=Object(o.f)();return Object(O.jsx)("li",{className:m.a.item,children:Object(O.jsxs)(x,{children:[Object(O.jsx)("div",{className:m.a.image,children:Object(O.jsx)("img",{src:e.video.snippet.thumbnails.high.url,alt:e.video.snippet.title})}),Object(O.jsxs)("div",{className:m.a.content,children:[Object(O.jsx)("h3",{children:e.video.snippet.title}),Object(O.jsxs)("div",{className:m.a.details,children:[Object(O.jsxs)("p",{children:[Object(O.jsx)("b",{children:"Chaine :"})," ",e.video.snippet.channelTitle]}),Object(O.jsxs)("p",{children:[Object(O.jsx)("b",{children:"Date :"})," ",e.video.snippet.publishedAt.substring(0,9)]})]})]}),Object(O.jsxs)("div",{className:m.a.actions,children:[Object(O.jsx)("button",{onClick:function(){c?t.removeFavorite(e.video.id.videoId):t.addFavorite(e.video)},children:c?"supprimer de favoris":"Ajouter au favoris"}),Object(O.jsx)("button",{onClick:function(){return c=e.video,t.setvideoDirect(c),void n.push("/video");var c},children:"regarde le video "})]})]})})},F=c(36),N=c.n(F);var y=function(e){return Object(O.jsx)("ul",{className:N.a.list,children:e.videos.map((function(e){return Object(O.jsx)(C,{video:e},e.key)}))})},I=c(37),w=c.n(I);var S=function(){return Object(O.jsxs)("div",{className:w.a.spinn,children:[Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{})]})},M=c(38),D=c.n(M);var k=function(){return Object(O.jsxs)("div",{className:D.a.spinn2,children:[Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{})]})};var R=function(){var e=Object(i.useContext)(g),t=Object(i.useState)(!0),c=Object(l.a)(t,2),n=c[0],r=c[1],s=Object(i.useState)([]),a=Object(l.a)(s,2),o=a[0],b=a[1],v=Object(i.useState)(!1),h=Object(l.a)(v,2),x=h[0],p=h[1],m=Object(i.useState)(1),f=Object(l.a)(m,2),_=f[0],C=f[1],F=Object(i.useState)(""),N=Object(l.a)(F,2),I=N[0],w=N[1],M=e.recherche,D=e.ordreRecherche;return Object(i.useEffect)((function(){!x&&r(!0),u.a.create({baseURL:"https://www.googleapis.com/youtube/v3/",params:{part:"snippet",maxResults:6,key:"AIzaSyAnFykwz8PKOIHh3VVCCb7cCdZj9hdFBDs",type:"video"}}).get("/search",{params:{q:M,pageToken:x?I:null,order:D}}).then((function(e){return e.data})).then((function(e){w(e.nextPageToken);var t=[];for(var c in e.items){var i=Object(d.a)({key:c},e.items[c]);t.push(i)}r(!1),b(x?[].concat(Object(j.a)(o),t):t),p(!1)}))}),[M,_,D]),window.onscroll=function(){window.innerHeight+document.documentElement.scrollTop===document.documentElement.offsetHeight&&(p(!0),C((function(e){return e+1})))},n?Object(O.jsx)(S,{}):Object(O.jsxs)("section",{children:[Object(O.jsx)(y,{videos:o}),x&&Object(O.jsx)(k,{})]})};var P=function(){var e,t=Object(i.useContext)(g);return e=0===t.totalFavorites?Object(O.jsx)("p",{children:"Vous n'avez pas encore de favoris. Commencer \xe0 en ajouter ?"}):Object(O.jsx)(y,{videos:t.favorites}),Object(O.jsxs)("section",{children:[Object(O.jsx)("h1",{children:"Mes Favoris"}),e]})},V=c(14),J=c.n(V),T=c.p+"static/media/youtubeImg.82371428.png";function E(){var e=Object(i.useContext)(g);return Object(O.jsxs)("header",{className:J.a.header,children:[Object(O.jsxs)("div",{className:J.a.logo,children:[" ",Object(O.jsx)(a.b,{to:"/",children:Object(O.jsx)("img",{src:T})})]}),Object(O.jsx)("input",{className:J.a.rech,onChange:function(t){e.setrechercheState(t.target.value)},type:"text",placeholder:"recherche.."}),Object(O.jsx)("nav",{children:Object(O.jsxs)("ul",{children:[Object(O.jsx)("li",{children:Object(O.jsx)(a.b,{to:"/",children:"Videos"})}),Object(O.jsx)("li",{children:Object(O.jsxs)(a.b,{to:"/favoris",children:["Favoris",Object(O.jsx)("span",{className:J.a.badge,children:e.totalFavorites})]})})]})})]})}var z=n.a.memo(E),A=c(39),B=c.n(A),H=c(21),L=c.n(H),q=n.a.memo((function(){var e=Object(i.useContext)(g);function t(t){e.setOrdreRecherche(t.target.value)}return Object(O.jsxs)("div",{className:L.a.menu,children:[Object(O.jsx)("div",{className:L.a.titre,children:"Ordre de Recherche : "}),Object(O.jsx)("div",{children:Object(O.jsxs)("label",{children:[Object(O.jsx)("input",{type:"radio",name:"tri",onChange:t,value:"date"}),Object(O.jsx)("span",{children:" Plus Recent"})]})}),Object(O.jsx)("div",{children:Object(O.jsxs)("label",{children:[Object(O.jsx)("input",{type:"radio",name:"tri",onChange:t,value:"viewCount"}),Object(O.jsx)("span",{children:" Plus Vu "})]})}),Object(O.jsx)("div",{children:Object(O.jsxs)("label",{children:[Object(O.jsx)("input",{type:"radio",name:"tri",onChange:t,value:"rating"}),Object(O.jsx)("span",{children:" Plus Evalue"})]})}),Object(O.jsx)("div",{children:Object(O.jsxs)("label",{children:[Object(O.jsx)("input",{type:"radio",name:"tri",onChange:t,value:"title"}),Object(O.jsx)("span",{children:" Par titre"})]})})]})}));var K=function(e){return Object(O.jsxs)("div",{children:[Object(O.jsx)(z,{}),Object(O.jsx)(q,{}),Object(O.jsx)("main",{className:B.a.main,children:e.children})]})},Z=c(22),G=c.n(Z),U=function(){var e=Object(i.useContext)(g).videoDirect,t="https://www.youtube.com/embed/".concat(e.id.videoId,"/?autoplay=1");return Object(O.jsxs)(x,{children:[Object(O.jsx)("iframe",{className:G.a.player,src:t,allowFullScreen:!0,title:"Video player"}),Object(O.jsxs)("div",{className:G.a.content,children:[Object(O.jsx)("h4",{children:e.snippet.title}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("p",{children:[Object(O.jsx)("b",{children:"description :"})," ",e.snippet.description]}),Object(O.jsx)("br",{})]})]})]})};var W=function(){return Object(O.jsx)(K,{children:Object(O.jsxs)(o.c,{children:[Object(O.jsx)(o.a,{path:"/",exact:!0,children:Object(O.jsx)(R,{})}),Object(O.jsx)(o.a,{path:"/favoris",children:Object(O.jsx)(P,{})}),Object(O.jsx)(o.a,{path:"/video",children:Object(O.jsx)(U,{})})]})})};s.a.render(Object(O.jsx)(_,{children:Object(O.jsx)(a.a,{children:Object(O.jsx)(W,{})})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.838bd857.chunk.js.map