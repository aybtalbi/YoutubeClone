(this["webpackJsonpreact-course"]=this["webpackJsonpreact-course"]||[]).push([[0],{11:function(e,t,c){e.exports={item:"videoItem_item__2uGDs",image:"videoItem_image__1tX3a",content:"videoItem_content__1bPfC",actions:"videoItem_actions__37Nh3",details:"videoItem_details__daDj1"}},14:function(e,t,c){e.exports={header:"MainNavigation_header__J1-R9",rech:"MainNavigation_rech__39pDJ",logo:"MainNavigation_logo__2lIF6",active:"MainNavigation_active__3Z_K4",badge:"MainNavigation_badge__1YRET"}},21:function(e,t,c){e.exports={menu:"MenuDeFilter_menu__3rced",titre:"MenuDeFilter_titre__I5VQg"}},22:function(e,t,c){e.exports={player:"Video_player__3G5uy"}},33:function(e,t,c){e.exports={card:"Card_card__3oY0B"}},36:function(e,t,c){e.exports={list:"videoList_list__239CI"}},37:function(e,t,c){e.exports={spinn:"Spinner_spinn__2yE_w"}},38:function(e,t,c){e.exports={spinn2:"Spinner2_spinn2__2SKH-"}},39:function(e,t,c){e.exports={main:"Layout_main__3xdZL"}},46:function(e,t,c){},74:function(e,t,c){"use strict";c.r(t);var i=c(1),n=c.n(i),r=c(31),s=c.n(r),a=c(9),o=(c(46),c(2)),j=c(40),d=c(41),l=c(8),b=c(32),u=c.n(b);var h=c(33),v=c.n(h),O=c(0);var x=function(e){return Object(O.jsx)("div",{className:v.a.card,children:e.children})},p=c(11),m=c.n(p),f=Object(i.createContext)({favorites:[],totalFavorites:0,addFavorite:function(e){},removeFavorite:function(e){},itemIsFavorite:function(e){},setvideoDirect:function(e){},setrechercheState:function(e){},videoDirect:{},recherche:"",ordreRecherche:""});function _(e){var t=Object(i.useState)([]),c=Object(l.a)(t,2),n=c[0],r=c[1],s=Object(i.useState)({}),a=Object(l.a)(s,2),o=a[0],j=a[1],d=Object(i.useState)("paris"),b=Object(l.a)(d,2),u=b[0],h=b[1],v=Object(i.useState)("date"),x=Object(l.a)(v,2),p=x[0],m=x[1];var _={favorites:n,totalFavorites:n.length,addFavorite:function(e){r((function(t){return t.concat(e)}))},removeFavorite:function(e){r((function(t){return t.filter((function(t){return t.id.videoId!==e}))}))},itemIsFavorite:function(e){return n.some((function(t){return t.id.videoId===e}))},videoDirect:o,setvideoDirect:j,recherche:u,setrechercheState:h,ordreRecherche:p,setOrdreRecherche:m};return Object(O.jsx)(f.Provider,{value:_,children:e.children})}var g=f;var N=function(e){var t=Object(i.useContext)(g),c=t.itemIsFavorite(e.video.id.videoId),n=Object(o.f)();return Object(O.jsx)("li",{className:m.a.item,children:Object(O.jsxs)(x,{children:[Object(O.jsx)("div",{className:m.a.image,children:Object(O.jsx)("img",{src:e.video.snippet.thumbnails.high.url,alt:e.video.snippet.title})}),Object(O.jsxs)("div",{className:m.a.content,children:[Object(O.jsx)("h3",{children:e.video.snippet.title}),Object(O.jsxs)("div",{className:m.a.details,children:[Object(O.jsxs)("p",{children:[Object(O.jsx)("b",{children:"Chaine :"})," ",e.video.snippet.channelTitle]}),Object(O.jsxs)("p",{children:[Object(O.jsx)("b",{children:"Date :"})," ",e.video.snippet.publishedAt.substring(0,9)]})]})]}),Object(O.jsxs)("div",{className:m.a.actions,children:[Object(O.jsx)("button",{onClick:function(){c?t.removeFavorite(e.video.id.videoId):t.addFavorite(e.video)},children:c?"supprimer de favoris":"Ajouter au favoris"}),Object(O.jsx)("button",{onClick:function(){return c=e.video,t.setvideoDirect(c),void n.push("/video");var c},children:"regarde le video "})]})]})})},y=c(36),C=c.n(y);var F=function(e){return Object(O.jsx)("ul",{className:C.a.list,children:e.videos.map((function(e){return Object(O.jsx)(N,{video:e},e.key)}))})},I=c(37),S=c.n(I);var w=function(){return Object(O.jsxs)("div",{className:S.a.spinn,children:[Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{})]})},D=c(38),R=c.n(D);var k=function(){return Object(O.jsxs)("div",{className:R.a.spinn2,children:[Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{})]})};var M=function(){var e=Object(i.useContext)(g),t=Object(i.useState)(!0),c=Object(l.a)(t,2),n=c[0],r=c[1],s=Object(i.useState)([]),a=Object(l.a)(s,2),o=a[0],b=a[1],h=Object(i.useState)(!1),v=Object(l.a)(h,2),x=v[0],p=v[1],m=Object(i.useState)(1),f=Object(l.a)(m,2),_=f[0],N=f[1],y=Object(i.useState)(""),C=Object(l.a)(y,2),I=C[0],S=C[1],D=e.recherche,R=e.ordreRecherche;return Object(i.useEffect)((function(){!x&&r(!0),u.a.create({baseURL:"https://www.googleapis.com/youtube/v3/",params:{part:"snippet",maxResults:6,key:"AIzaSyAnFykwz8PKOIHh3VVCCb7cCdZj9hdFBDs",type:"video"}}).get("/search",{params:{q:D,pageToken:x?I:null,order:R}}).then((function(e){return e.data})).then((function(e){S(e.nextPageToken);var t=[];for(var c in e.items){var i=Object(d.a)({key:c},e.items[c]);t.push(i)}r(!1),b(x?[].concat(Object(j.a)(o),t):t),p(!1)}))}),[D,_,R]),window.onscroll=function(){window.innerHeight+document.documentElement.scrollTop===document.documentElement.offsetHeight&&(p(!0),N((function(e){return e+1})))},n?Object(O.jsx)(w,{}):Object(O.jsxs)("section",{children:[Object(O.jsx)(F,{videos:o}),x&&Object(O.jsx)(k,{})]})};var P=function(){var e,t=Object(i.useContext)(g);return e=0===t.totalFavorites?Object(O.jsx)("p",{children:"Vous n'avez pas encore de favoris. Commencer \xe0 en ajouter ?"}):Object(O.jsx)(F,{videos:t.favorites}),Object(O.jsxs)("section",{children:[Object(O.jsx)("h1",{children:"Mes Favoris"}),e]})},V=c(14),E=c.n(V),T=c.p+"static/media/youtubeImg.82371428.png";function A(){var e=Object(i.useContext)(g);return Object(O.jsxs)("header",{className:E.a.header,children:[Object(O.jsxs)("div",{className:E.a.logo,children:[" ",Object(O.jsx)(a.b,{to:"/",children:Object(O.jsx)("img",{src:T})})]}),Object(O.jsx)("input",{className:E.a.rech,onChange:function(t){e.setrechercheState(t.target.value)},type:"text",placeholder:"recherche.."}),Object(O.jsx)("nav",{children:Object(O.jsxs)("ul",{children:[Object(O.jsx)("li",{children:Object(O.jsx)(a.b,{to:"/",children:"Videos"})}),Object(O.jsx)("li",{children:Object(O.jsxs)(a.b,{to:"/favoris",children:["Favoris",Object(O.jsx)("span",{className:E.a.badge,children:e.totalFavorites})]})})]})})]})}var H=n.a.memo(A),J=c(39),L=c.n(J),z=c(21),B=c.n(z),K=n.a.memo((function(){var e=Object(i.useContext)(g);function t(t){e.setOrdreRecherche(t.target.value)}return Object(O.jsxs)("div",{className:B.a.menu,children:[Object(O.jsx)("div",{className:B.a.titre,children:"Ordre de Recherche : "}),Object(O.jsx)("div",{children:Object(O.jsxs)("label",{children:[Object(O.jsx)("input",{type:"radio",name:"tri",onChange:t,value:"date"}),Object(O.jsx)("span",{children:" Plus Recent"})]})}),Object(O.jsx)("div",{children:Object(O.jsxs)("label",{children:[Object(O.jsx)("input",{type:"radio",name:"tri",onChange:t,value:"viewCount"}),Object(O.jsx)("span",{children:" Plus Vu "})]})}),Object(O.jsx)("div",{children:Object(O.jsxs)("label",{children:[Object(O.jsx)("input",{type:"radio",name:"tri",onChange:t,value:"rating"}),Object(O.jsx)("span",{children:" Plus Evalue"})]})}),Object(O.jsx)("div",{children:Object(O.jsxs)("label",{children:[Object(O.jsx)("input",{type:"radio",name:"tri",onChange:t,value:"title"}),Object(O.jsx)("span",{children:" Par titre"})]})})]})}));var Z=function(e){return Object(O.jsxs)("div",{children:[Object(O.jsx)(H,{}),Object(O.jsx)(K,{}),Object(O.jsx)("main",{className:L.a.main,children:e.children})]})},G=c(22),Y=c.n(G),q=function(){var e=Object(i.useContext)(g).videoDirect,t="https://www.youtube.com/embed/".concat(e.id.videoId,"/?autoplay=1");return Object(O.jsxs)(x,{children:[Object(O.jsx)("iframe",{className:Y.a.player,src:t,allowFullScreen:!0,title:"Video player"}),Object(O.jsxs)("div",{className:Y.a.content,children:[Object(O.jsx)("h4",{children:e.snippet.title}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("p",{children:[Object(O.jsx)("b",{children:"description :"})," ",e.snippet.description]}),Object(O.jsx)("br",{})]})]})]})};var Q=function(){return Object(O.jsx)(Z,{children:Object(O.jsxs)(o.c,{children:[Object(O.jsx)(o.a,{path:"/",exact:!0,children:Object(O.jsx)(M,{})}),Object(O.jsx)(o.a,{path:"/favoris",children:Object(O.jsx)(P,{})}),Object(O.jsx)(o.a,{path:"/video",children:Object(O.jsx)(q,{})})]})})};s.a.render(Object(O.jsx)(_,{children:Object(O.jsx)(a.a,{children:Object(O.jsx)(Q,{})})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.167bfab9.chunk.js.map